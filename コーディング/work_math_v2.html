<html>
<head>
	<meta charset="UTF-8">
	<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
	<link rel="stylesheet" href="style.css">
	<script src="DB/DB_sql.js"></script>
</head>
<body>
	<div class="f">
		<label>å‹¤å‹™æ™‚é–“è¨ˆç®—ç”»é¢</label>
		<button class="button_back" id="BACK_button">æˆ»ã‚‹</button>
		<div>ç¤¾å“¡</div>
		<select class="input"></select>
		<div class="m">äº¤é€šè²»</div>
		<input class="input" type="text"disabled>
		<div class="m">å‚™è€ƒ</div>
		<input class="input" type="text"disabled>
		<button class="button" id="ALL_button">ä¸€æ‹¬</button>
	</div>
	<br>
	<table border="1" id="staff_time">
		<tr class="table_bar1"><th rowspan="3"colspan="2">æ—¥ä»˜</th>
			<th rowspan="3">ä½œæ¥­å†…å®¹</th>
			<th rowspan="2" colspan="4">ä½œæ¥­æ™‚é–“å†…è¨³</th>
			<th colspan="4">æ™‚é–“å¤–åŠ´åƒå†…è¨³</th>
			<th rowspan="2" colspan="3">æ™‚é–“å†…è¨³</th>
			<th rowspan="2" colspan="2">ä¼‘æš‡</th>
			<th rowspan="2" colspan="2">æ§é™¤</th>
		</tr>
		<tr class="table_bar2">
			<th colspan="2">å¹³æ—¥ãƒ»åœŸæ›œæ—¥</th><th colspan="2">æ³•å®šä¼‘æ—¥</th>
		</tr>
		<tr class="table_bar3">
			<th>å‡ºå‹¤</th><th>é€€å‹¤</th>
			<th>ä¼‘æ†©</th>
			<th>ç·æ™‚é–“</th>
			<th>é€šå¸¸</th>
			<th>æ·±å¤œ</th>
			<th>é€šå¸¸</th>
			<th>æ·±å¤œ</th>
			<th>è‡ªç¤¾</th>
			<th>å®¢å…ˆ</th>
			<th>ä¼‘æš‡(ä»»æ„)</th>
			<th>æ™‚é–“</th>
			<th>ç¨®åˆ¥</th>
			<th>é…åˆ»</th>
			<th>æ—©é€€</th>
		</tr>
		<!--ã“ã“ã«ãƒ‡ãƒ¼ã‚¿ã‚’appendã§æŒ¿å…¥-->
	</table>
	<div class="f">
		<div>â—†ä½œæ¥­æ™‚é–“ä¸€è¦§</div>
		<div>â—†æ™‚é–“å¤–ä½œæ¥­ä¸€è¦§</div>
	</div>
	<div class="f">
		<table border="1">
			<tr><th>å®¢å…ˆæ™‚é–“</th><td id="sum_k_time" style="background-color:#d3d3d3;">0:00</td></tr>
			<tr><th>è‡ªç¤¾æ™‚é–“</th><td id="sum_j_time" style="background-color:#d3d3d3;">0:00</td></tr>
		</table>
		<table border="1">
			<tr>
				<th>å¹³æ—¥ãƒ»åœŸæ›œæ—¥60hä»¥ä¸‹</th>
				<td id="sum_ov_60down" style="background-color:#d3d3d3;">0:00</td>
				<th>æ³•å®šä¼‘æ—¥ä½œæ¥­</th>
				<td id="sum_h_all" style="background-color:#d3d3d3;">0:00</td>
			</tr>
			<tr>
				<th>å¹³æ—¥ãƒ»åœŸæ›œæ—¥60hè¶…é</th>
				<td id="sum_ov_60up" style="background-color:#d3d3d3;">0:00</td>
				<th>æ™‚é–“å¤–ä½œæ¥­ç·æ™‚é–“</th>
				<td id="sum_ov_all" style="background-color:#d3d3d3;">0:00</td>
			</tr>
		</table>
		<button class="button_memory" id="MEMORY_button">ä¿å­˜</button>
	</div>
	<!--ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—æ™‚ã®ã‚°ãƒ¬ãƒ¼å‡¦ç†-->
	<div id="pop_back"></div>
	
	<!--ä¸€æ‹¬å…¥åŠ›ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—-->
	<div class="pop" id="ALL">
		<button class="pop_cancel" id="ALL_close">âœ–</button>
		<div class="pop_title">ä¸€æ‹¬å…¥åŠ›</div>
		<div class="pop_input_group">
			<label>å‡ºå‹¤æ™‚é–“</label>
			<input class="pop_input" id="ALL_start" type="time">
		</div>
		<div class="pop_input_group">
			<label>é€€å‹¤æ™‚é–“</label>
			<input class="pop_input" id="ALL_finish" type="time">
		</div>
		<div class="pop_button_group">
			<button class="pop_button" id="customer_button" style="background-color: #FFD700;">å®¢å…ˆ</button>
			<button class="pop_button" id="commpany_button" style="background-color: #87CEEB;">è‡ªç¤¾</button>
		</div>
	</div>
	
		<!--ä¿å­˜ç¢ºèªãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—-->
	<div class="pop" id="MEMORY">
		<button class="pop_cancel" id="MEMORY_close">âœ–</button>
		<div class="pop_title_alone">ä¿å­˜ã—ã¾ã™ã‹ï¼Ÿ</div>
		<button class="pop_button_alone" id="MEMORY_OK">OK</button>
	</div>
	
	<!--æˆ»ã‚‹ç¢ºèªãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—-->
	<div class="pop" id="BACK">
		<button class="pop_cancel" id="BACK_close">âœ–</button>
		<div class="pop_title_memorycheck">
			<span style="color: red;">â€»ä¿å­˜ã—ã¦ã„ãªã„ãŸã‚<br>å…¥åŠ›ã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ãŒæ¶ˆãˆã¾ã™<br></span>ã‚ˆã‚ã—ã„ã§ã™ã‹ï¼Ÿ
		</div>
		<button class="pop_button_alone" id="BACK_OK">OK</button>
	</div>
</body>
<script>
window.addEventListener('load', function() {
  window.addEventListener('popstate', function(event) {
    alert('ã‚‚ã†ä¸€åº¦ã“ã®ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã¨ä¿å­˜ã—ã¦ã„ãªã„ãƒ‡ãƒ¼ã‚¿ã¯æ¶ˆãˆã¦ã—ã¾ã„ã¾ã™ğŸ˜±');
  });
  history.pushState(null, null, null);
});
	$("#ALL").hide();
	$("#MEMORY").hide();
	$("#BACK").hide();
	$("#pop_back").hide();
	
	let year = "2023";
	let month = "4";
	if(month.length==1){
		month += "0"+month;
	}
	let sql_select_length = 'select date from TP_Calendar where date LIKE "'+year+'-'+month+'%"';
	//let DBsql_select_length = DB.sql(sql_select_length);
	alert(DBsql_select_length);
	
	//DBã®ãƒ‡ãƒ¼ã‚¿ã‚’å…¥ã‚Œã‚‹ç”¨ã®å¤‰æ•°ã¨åˆæœŸåŒ–
	var memory = new Array(31);
	for(i=0;i<31;i++){
		memory[i] = new Array(16);
		for(j=0;j<16;j++){
			memory[i][j] = "00:00";
			if(j==0){
				memory[i][j] = "";
			}
			if(j==13){
				memory[i][j] = "";
			}
		}
	}
	
	var calendar_day = new Array (31);
	for(i=0;i<31;i++){
		calendar_day[i] = new Array(2);
		calendar_day[i][1] = i+1;
		calendar_day[i][2] = "æ—¥";
	}
	
	
	//ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ãƒ‡ãƒ¼ã‚¿ã‚’appendã§å…¥ã‚Œè¾¼ã‚€
	for(i=0;i<memory.length;i++){
		$("#staff_time").append('<tr id="staff_row'+i+'"></tr>');
		$("#staff_row"+i).append('<td id="staff_day'+i+'" style="background-color:#d3d3d3;"></td>');
		$("#staff_row"+i).append('<td id="staff_week'+i+'" style="background-color:#d3d3d3;"></td>');
		$("#staff_day"+i).text(calendar_day[i][1]);
		$("#staff_week"+i).text(calendar_day[i][2]);
		for(j=0;j<16;j++){
			if(j!=4&&j!=13){
				$("#staff_row"+i).append('<td><input id="staff_data'+i+'_'+j+'" type="text"></td>');
			}else if(j==4){
				$("#staff_row"+i).append('<td><input id="staff_data'+i+'_'+j+'" type="text" disabled></td>');
			}else if(j==13){
				$("#staff_row"+i).append('<td><select id="staff_data'+i+'_'+j+'"></select></td>');
			}
			$("#staff_data"+i+"_"+j).val(memory[i][j]);
			if(j!=0){
				$("#staff_data"+i+"_"+j).css('width','50');
			}
		}
		$("#staff_data"+i+"_0").css('background-color','yellow');
		$("#staff_data"+i+"_1").css('background-color','yellow');
		$("#staff_data"+i+"_2").css('background-color','yellow');
		$("#staff_data"+i+"_4").css('background-color','#d3d3d3');
		$("#staff_data"+i+"_9").css('background-color','yellow');
		$("#staff_data"+i+"_10").css('background-color','yellow');
	}
	
	//ç·åˆè¨ˆã‚’appendã§å…¥ã‚Œè¾¼ã‚€
	$("#staff_time").append('<tr class="table_bar4"><th colspan="6">ç·æ™‚é–“</th>'+
							'<td id="sum_all"style="width:50;font-size:13;background-color:#d3d3d3;">00:00</td>'+
							'<td id="sum_ovt_n" style="width:50;font-size:13;background-color:#d3d3d3;">00:00</td>'+
							'<td id="sum_ovt_e" style="width:50;font-size:13;background-color:#d3d3d3;">00:00</td>'+
							'<td id="sum_ovt_h_n" style="width:50;font-size:13;background-color:#d3d3d3;">00:00</td>'+
							'<td id="sum_ovt_h_e" style="width:50;font-size:13;background-color:#d3d3d3;">00:00</td>'+
							'<td id="sum_commpany" style="width:50;font-size:13;background-color:#d3d3d3;">00:00</td>'+
							'<td id="sum_customer" style="width:50;font-size:13;background-color:#d3d3d3;">00:00</td>'+
							'<td id="sum_break" style="width:50;font-size:13;background-color:#d3d3d3;">00:00</td>'+
							'<td id="sum_h_time" style="width:50;font-size:13;background-color:#d3d3d3;">00:00</td>'+
							'<td style="text-align: center;background-color:#d3d3d3;">ï¼</td>'+
							'<td id="sum_slow"  style="width:50;font-size:13;background-color:#d3d3d3;">00:00</td>'+
							'<td id="sum_early" style="width:50;font-size:13;background-color:#d3d3d3;">00:00</td></tr>');

	//ãƒ†ãƒ¼ãƒ–ãƒ«ã«ãƒ‡ãƒ¼ã‚¿å…¥åŠ›æ™‚
	$("input").on("input", function() {
		apdate_sum();
    });
	
	//ä¸€æ‹¬ãƒœã‚¿ãƒ³æŠ¼ä¸‹æ™‚
	$("#ALL_button").on("click",function(){
		$("#ALL").show();
		$("#pop_back").show();
	})
	
	//ä¸€æ‹¬å…¥åŠ›ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—
	//ä¸€æ‹¬å…¥åŠ›é–‰ã˜ã‚‹ãƒœã‚¿ãƒ³æŠ¼ä¸‹æ™‚
	$("#ALL_close").on("click",function(){
		$("#ALL").hide();
		$("#pop_back").hide();
	})
	
	//ä¸€æ‹¬å…¥åŠ›å®¢å…ˆãƒœã‚¿ãƒ³æŠ¼ä¸‹æ™‚
	$("#customer_button").on("click",function(){
		let ALL_start = $("#ALL_start").val();
		let ALL_finish = $("#ALL_finish").val();
		let time_start = time(ALL_start);
		let time_finish = time(ALL_finish);
		let time_h = Math.floor((time_finish - time_start)/60);
		let time_m = (time_finish - time_start)%60;
		let ALL_time = "";
		ALL_time = zero(time_h,time_m,time_finish,time_start);
		for(i=0;i<calendar_day.length;i++){
			$("#staff_data"+i+"_1").val(ALL_start);
			$("#staff_data"+i+"_2").val(ALL_finish);
			$("#staff_data"+i+"_9").val("00:00");
			$("#staff_data"+i+"_10").val(ALL_time);
		}
		$("#ALL").hide();
		$("#pop_back").hide();
		apdate_sum();
	})
	
	//ä¸€æ‹¬å…¥åŠ›è‡ªç¤¾ãƒœã‚¿ãƒ³æŠ¼ä¸‹æ™‚
	$("#commpany_button").on("click",function(){
		let ALL_start = $("#ALL_start").val();
		let ALL_finish = $("#ALL_finish").val();
		let time_start = time(ALL_start);
		let time_finish = time(ALL_finish);
		let time_h = Math.floor((time_finish - time_start)/60);
		let time_m = (time_finish - time_start)%60;
		let ALL_time = "";
		ALL_time = zero(time_h,time_m,time_finish,time_start);
		for(i=0;i<calendar_day.length;i++){
			$("#staff_data"+i+"_1").val(ALL_start);
			$("#staff_data"+i+"_2").val(ALL_finish);
			$("#staff_data"+i+"_9").val(ALL_time);
			$("#staff_data"+i+"_10").val("00:00");
		}
		$("#ALL").hide();
		$("#pop_back").hide();
		apdate_sum();
	})
	
	//æˆ»ã‚‹ãƒœã‚¿ãƒ³æŠ¼ä¸‹æ™‚
	$("#BACK_button").on("click",function(){
		$("#BACK").show();
		$("#pop_back").show();
	})
	
	//æˆ»ã‚‹ç¢ºèªãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—é–‰ã˜ã‚‹ãƒœã‚¿ãƒ³æŠ¼ä¸‹æ™‚
	$("#BACK_close").on("click",function(){
		$("#BACK").hide();
		$("#pop_back").hide();
	})

	//æˆ»ã‚‹ç¢ºèªãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—é–‰ã˜ã‚‹ãƒœã‚¿ãƒ³æŠ¼ä¸‹æ™‚
	$("#BACK_OK").on("click",function(){
		$("#BACK").hide();
		$("#pop_back").hide();
	})

	
	//ä¿å­˜ãƒœã‚¿ãƒ³æŠ¼ä¸‹æ™‚
	$("#MEMORY_button").on("click",function(){
		$("#MEMORY").show();
		$("#pop_back").show();
	})
	
	//ä¿å­˜ç¢ºèªé–‰ã˜ã‚‹ãƒœã‚¿ãƒ³æŠ¼ä¸‹æ™‚
	$("#MEMORY_close").on("click",function(){
		$("#MEMORY").hide();
		$("#pop_back").hide();
	})
	
	//ä¿å­˜ç¢ºèªOKãƒœã‚¿ãƒ³æŠ¼ä¸‹æ™‚
	$("#MEMORY_OK").on("click",function(){
		let sql_insert = "INSERT INTO TE_Time VALUE("
		for(i=0;i<calendar_day.length;i++){
			for(j=0;j<16;j++){
				if(j!=4){
					let sql_pulus = $("#staff_data"+i+"_"+j).val();
					sql_insert += '"'+sql_pulus+'",';
				}
			}
		};
		sql_insert += '");'
		alert(sql_insert);
		//insertæ–‡
		$("#MEMORY").hide();
		$("#pop_back").hide();
	})
	
	
//-------------------------------------ã“ã“ã‹ã‚‰functionã ã‚ˆ----------------------------------------------------------------------------------
	
	
	//timeå‹ã®hh:mmã®hhã‚’å–ã‚Šå‡ºã—ã¦intå‹ã«å¤‰æ›
	function time(time){
		//æ™‚é–“ã®è¨ˆç®—
		let time_h;
		if(time.length == 5){
			time_h = time.slice(0,2);
		}else if(time.length == 4){
			time_h = time.slice(0,1);
		}
			time_h = time_h * 60;
		let time_h_trans = parseInt(time_h)
		//åˆ†ã®è¨ˆç®—
		let time_m;
		if(time.length == 5){
			time_m = time.slice(3,5);
		}else if(time.length == 4){
			time_m = time.slice(2,4);
		}
		let time_m_trans = parseInt(time_m)
		
		let time_sum = time_m_trans + time_h_trans;
		
		return time_sum;
	}
	
	//timeå‹ã‹ã‚‰ã®å¤‰æ›å¾Œã®0åŸ‹ã‚
	function zero(time_h,time_m,time_finish,time_start){
		let time;
		if(time_h.toString().length==1){
			time = "0"+time_h+":"+time_m;
		}
		if(time_m.toString().length==1){
			time = time_h+":0"+time_m;
		}
		if(time_h.toString().length==1&&time_m.toString().length==1){
			time = "0"+time_h+":0"+time_m;
		}
		if(time_h.toString().length==2&&time_m.toString().length==2){
			time = time_h+":"+time_m;
		}
		if(time_finish - time_start<0){
			time = "error";
		}
		return time;
	}
	
	//å‡ºå‹¤æ™‚é–“ã¨é€€å‹¤æ™‚é–“ã®å…¥åŠ›å†…å®¹ã‚’ã‚‚ã¨ã«ç·æ™‚é–“ã‚’è‡ªå‹•è¨ˆç®—
	function apdate_sum(){
		let error_check = false;
		for(i=0;i<calendar_day.length;i++){
			let start_time = $("#staff_data"+i+"_1").val();
			let finish_time = $("#staff_data"+i+"_2").val();
			let break_time = $("#staff_data"+i+"_3").val();
			start_time = time(start_time);
			finish_time = time(finish_time);
			break_time = time(break_time);
			let sum_h = Math.floor(((finish_time - start_time) - break_time)/60);
			let sum_m = ((finish_time - start_time) - break_time)%60;
			let sum_time = zero(sum_h,sum_m,finish_time,start_time);
			$("#staff_data"+i+"_4").val(sum_time);
			//ç·åˆè¨ˆã¨å®¢å…ˆ+è‡ªç¤¾ã®å€¤ãŒç•°ãªã‚‹ã¨ãã®ã‚¨ãƒ©ãƒ¼
			let sum_check = $("#staff_data"+i+"_4").val();
			let commpany_check = $("#staff_data"+i+"_9").val();
			let customr_check = $("#staff_data"+i+"_10").val();
			if(time(sum_check) == time(commpany_check)+time(customr_check)){
				$("#staff_data"+i+"_9").css('background-color', 'yellow');
				$("#staff_data"+i+"_10").css('background-color', 'yellow');
			}else{
				$("#staff_data"+i+"_9").css('background-color', 'red');
				$("#staff_data"+i+"_10").css('background-color', 'red');
				error_check = true;
			}
		}
		//ç·åˆè¨ˆã®ç·åˆè¨ˆ
		Asum("4","sum_all");
		//å¹³æ—¥ãƒ»åœŸæ›œã®æ®‹æ¥­æ™‚é–“ã®åˆè¨ˆ(é€šå¸¸)
		Asum("5","sum_ovt_n");
		//å¹³æ—¥ãƒ»åœŸæ›œã®æ®‹æ¥­æ™‚é–“ã®åˆè¨ˆ(æ·±å¤œ)
		Asum("6","sum_ovt_e");
		//æ³•å®šä¼‘æ—¥ã®æ®‹æ¥­æ™‚é–“ã®åˆè¨ˆ(é€šå¸¸)
		Asum("7","sum_ovt_h_n");
		//æ³•å®šä¼‘æ—¥ã®æ®‹æ¥­æ™‚é–“ã®åˆè¨ˆ(æ·±å¤œ)
		Asum("8","sum_ovt_h_e");
		//è‡ªç¤¾ã®ç·åˆè¨ˆã‚’æ±‚ã‚ã‚‹
		Asum("9","sum_commpany");
		//å®¢å…ˆã®ç·åˆè¨ˆã‚’æ±‚ã‚ã‚‹
		Asum("10","sum_customer");
		//ä¼‘æ†©æ™‚é–“ã®ç·åˆè¨ˆ
		Asum("11","sum_break");
		//ä¼‘æš‡æ™‚é–“ã®ç·åˆè¨ˆ
		Asum("12","sum_h_time");
		//é…åˆ»æ™‚é–“ã®ç·åˆè¨ˆ
		Asum("14","sum_slow");
		//æ—©é€€æ™‚é–“ã®ç·åˆè¨ˆ
		Asum("15","sum_early");
		//ä½œæ¥­ä¸€è¦§ã®å®¢å…ˆæ™‚é–“ã®åˆè¨ˆ
		Asum("10","sum_k_time");
		//ä½œæ¥­ä¸€è¦§ã®è‡ªç¤¾æ™‚é–“ã®åˆè¨ˆ
		Asum("9","sum_j_time");
		//å¹³æ—¥ãƒ»åœŸæ›œã®æ®‹æ¥­æ™‚é–“ã®60æ™‚é–“è¶…éã¨ã€ä»¥ä¸‹ã®è¡¨ç¤º
		let sum_ov60_n = Asum_r("5");
		let sum_ov60_e = Asum_r("6");
		let sum_ov60_n_int = time(sum_ov60_n);
		let sum_ov60_e_int = time(sum_ov60_e);
		let sum_ov60_int = sum_ov60_n_int + sum_ov60_e_int;
		if(sum_ov60_int>3600){
			$("#sum_ov_60down").text("60:00");
			let sum_ov60up_h = Math.floor((sum_ov60_int - 3600)/60);
			let sum_ov60up_m = (sum_ov60_int - 3600)%60;
			let sum_ov_60up = zero(sum_ov60up_h,sum_ov60up_m,0,0);
			$("#sum_ov_60up").text(sum_ov_60up);
		}else{
			$("#sum_ov_60up").text("00:00");
			let sum_ov60down_h = Math.floor((sum_ov60_int)/60);
			let sum_ov60down_m = (sum_ov60_int)%60;
			let sum_ov_60down = zero(sum_ov60down_h,sum_ov60down_m,0,0);
			$("#sum_ov_60down").text(sum_ov_60down);
		}
		//æ³•å®šä¼‘æ—¥ã®åˆè¨ˆ
		let sum_ov_h_n = Asum_r("7");
		let sum_ov_h_e = Asum_r("8");
		let sum_ov_h_n_int = time(sum_ov_h_n);
		let sum_ov_h_e_int = time(sum_ov_h_e);
		let sum_ov_h = sum_ov_h_n_int + sum_ov_h_e_int;
		let sum_ov_h_h = Math.floor((sum_ov_h)/60);
		let sum_ov_h_m = (sum_ov_h)%60;
		let sum_ov_h_text = zero(sum_ov_h_h,sum_ov_h_m,0,0);
		$("#sum_h_all").text(sum_ov_h_text);
		//æ™‚é–“å¤–ä½œæ¥­ç·æ™‚é–“
		let sum_ov_all_int = sum_ov60_int + sum_ov_h;
		let sum_ov_all_h = Math.floor((sum_ov_all_int)/60);
		let sum_ov_all_m = (sum_ov_all_int)%60;
		let sum_ov_all = zero(sum_ov_all_h,sum_ov_all_m,0,0);
		$("#sum_ov_all").text(sum_ov_all);
		//å…¥åŠ›ã•ã‚ŒãŸå€¤ãŒ24ä»¥ä¸Šã ã£ãŸå ´åˆã®ã‚¨ãƒ©ãƒ¼
		error(1);
		error(2);
		error(3);
		error(5);
		error(6);
		error(7);
		error(8);
		error(9);
		error(10);
		error(11);
		error(12);
		error(14);
		error(15);

	}
	
	//ç·åˆè¨ˆã‚’æ±‚ã‚ã‚‹
	function Asum(type,view){
		let sum_all_save=0;
		for(i=0;i<calendar_day.length;i++){
			let sum_all = $("#staff_data"+i+"_"+type).val();
			let sum_all_int = time(sum_all);
			sum_all_save += sum_all_int;
		}
		let sum_all_h = Math.floor(sum_all_save/60);
		let sum_all_m = (sum_all_save%60);
		sum_all_text = zero(sum_all_h,sum_all_m,0,0);
		$("#"+view).text(sum_all_text);
	}
	
	//ç·åˆè¨ˆã‚’æ±‚ã‚ã‚‹(returnç”¨)
	function Asum_r(type){
		let sum_all_save=0;
		for(i=0;i<calendar_day.length;i++){
			let sum_all = $("#staff_data"+i+"_"+type).val();
			let sum_all_int = time(sum_all);
			sum_all_save += sum_all_int;
		}
		let sum_all_h = Math.floor(sum_all_save/60);
		let sum_all_m = (sum_all_save%60);
		sum_all_text = zero(sum_all_h,sum_all_m,0,0);
		return sum_all_text;
	}
	
	//24ä»¥ä¸Šã‚‚ã—ãã¯ãƒã‚¤ãƒŠã‚¹ã®å€¤ã®æ™‚ã®ã‚¨ãƒ©ãƒ¼
	function error(type){
		for(i=0;i<calendar_day.length;i++){
			let ov_check = $("#staff_data"+i+"_"+type).val();
			ov_check_int = time(ov_check);
			if(ov_check_int>1440){
				$("#staff_data"+i+"_"+type).css('background-color','red');
			}else{
				if(type==1||type==2||type==9||type==10){
					if(type==1||type==2){
						$("#staff_data"+i+"_"+type).css('background-color','yellow');
					}else if(error_check==true){
						$("#staff_data"+i+"_"+type).css('background-color','yellow');
					}
				}else{
					$("#staff_data"+i+"_"+type).css('background-color','white');
				}
			}
		}
	}
	
</script>

</html>

